<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Page extends CI_Controller {    public function __construct() {        parent::__construct();        $this->load->model(FRONT_DIR . '/FrontPage', 'page');        $this->load->model(FRONT_DIR . '/FrontUser', 'user');    }    public function index() {        if ($this->session->userdata('user_id') != '') {            $header['userProfileInfo'] = $this->user->userProfileInfo();        }        $last = $this->uri->total_segments();        $pageUrl = $this->uri->segment($last);        $data['pageDetail'] = $this->page->getPageDetail($pageUrl);        $header['module_heading'] = $data['pageDetail']->pageTitle;        $header['metaKeyWords'] = $data['pageDetail']->metaKeywords;        $header['metaDescription'] = $data['pageDetail']->metaDescription;        $header['metaAuthor'] = $data['pageDetail']->metaAuthor;        $header['search_nav'] = 1;        if (in_array($pageUrl, array('about-us'))) {            $header['static_nav'] = 1;        }        $this->load->view(FRONT_DIR . '/' . INC . '/homepage-header', $header);        $this->load->view(FRONT_DIR . '/static_page/index', $data);        $this->load->view(FRONT_DIR . '/' . INC . '/homepage-footer');    }    public function contact() {        if ($this->input->server('REQUEST_METHOD') == 'POST') {            //print_array($_POST, true);            $contactData = $this->input->post();            $contactData['subject'] = "<b>" . $contactData['contact_topic'] . ": </b>" . $contactData['question_topic'];            $contactData['updatedDate'] = $contactData['createdDate'] = time();            $contactData['ipAddress'] = $this->input->ip_address();            unset($contactData['contact_topic']);            unset($contactData['question_topic']);            $response = $this->page->submitContactRequest($contactData);            if ($response) {                $this->session->set_userdata('class', A_SUC);                $this->session->set_userdata('message_notification', 'Your message has been sent successfully.');            } else {                $this->session->set_userdata('class', A_FAIL);                $this->session->set_userdata('message_notification', 'Unable to send the message.');            }        }        if ($this->session->userdata('user_id') != '') {            $header['userProfileInfo'] = $this->user->userProfileInfo();        }        $header['module_heading'] = 'Contact Us';        $header['search_nav'] = 1;        $header['static_nav'] = 1;        $this->load->view(FRONT_DIR . '/' . INC . '/homepage-header', $header);        $this->load->view(FRONT_DIR . '/static_page/contact');        $this->load->view(FRONT_DIR . '/' . INC . '/homepage-footer');    }    public function faq() {        if ($this->session->userdata('user_id') != '') {            $header['userProfileInfo'] = $this->user->userProfileInfo();        }        $header['module_heading'] = 'FAQ';        $header['search_nav'] = 1;        $header['static_nav'] = 1;        $data['faqs'] = $this->page->getFaqs();        $this->load->view(FRONT_DIR . '/' . INC . '/homepage-header', $header);        $this->load->view(FRONT_DIR . '/static_page/faq', $data);        $this->load->view(FRONT_DIR . '/' . INC . '/homepage-footer');    }}